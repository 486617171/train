(this.webpackJsonpgithub_hot_2=this.webpackJsonpgithub_hot_2||[]).push([[5],{100:function(e,t,n){e.exports={userInput:"index_userInput__3YBRF",submitBtn:"index_submitBtn__yrlh6",resultBox:"index_resultBox__3Ly8y",closeBtn:"index_closeBtn__32Jr-"}},206:function(e,t,n){e.exports={container:"index_container__LiYOR",battleItem:"index_battleItem__1uGYG",listUl:"index_listUl__fcNXT"}},209:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var s=n(67),i=n(31),a=n(32),r=n(33),c=n(34),l=n(0),o=(n(66),n(99)),u=n(100),j=n.n(u),p=n(207),h=n(208),d=n(1),b=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).setUser1=function(e){s.props.getUsers("user1",e)},s.setUser2=function(e){s.props.getUsers("user2",e)},s.state={},s.textConfig=[{name:"Enter two Github:",icon:"fa fa-users",color:"rgb(255, 191, 116)"},{name:"Battle",icon:"fa fa-fighter-jet",color:"gray"},{name:"See the winner",icon:"fa fa-trophy",color:"#f4ea2a"}],s}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{style:{textAlign:"center"},children:"Instructions"}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:this.textConfig.map((function(e){return Object(d.jsxs)("div",{style:{textAlign:"center",margin:"0 40px"},children:[Object(d.jsx)("p",{style:{fontSize:"20px"},children:e.name}),Object(d.jsx)("i",{className:e.icon,style:{fontSize:"120px",color:e.color,padding:"30px",backgroundColor:"#eeeeee"}})]},e.name)}))}),Object(d.jsx)("h2",{style:{textAlign:"center"},children:"Players"}),Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(d.jsx)(x,{title:"Player One",styles:{width:"50%"},setData:this.setUser1}),Object(d.jsx)(x,{title:"Player Two",styles:{width:"50%"},setData:this.setUser2})]})]})}}]),n}(l.PureComponent),x=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).submit=function(e){var t=new Image;t.src="https://github.com/".concat(e.username,".png?size=200"),t.onload=function(){s.setState({type:!1,inputValue:e.username},(function(){s.props.setData(e.username)}))},t.onerror=function(){alert("\u672a\u83b7\u53d6\u5230\u8be5\u7528\u6237\u4fe1\u606f\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165")}},s.closeBox=function(){s.setState({type:!0,inputValue:""},(function(){s.props.setData(null)}))},s.checkUser=function(){return h.a({username:h.b().max(15,"\u7528\u6237\u540d\u7684\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e15").required("\u8bf7\u8f93\u5165\u7528\u6237\u540d")})},s.state={inputValue:"",type:!0},s}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.styles,s=this.state,i=s.inputValue,a=s.type;return Object(d.jsxs)("div",{style:Object(o.a)(Object(o.a)({},n),{},{padding:"10px"}),children:[Object(d.jsx)("h3",{children:t}),a?Object(d.jsx)(p.d,{initialValues:{username:""},onSubmit:this.submit,validationSchema:this.checkUser(),children:Object(d.jsxs)(p.c,{style:{width:"100%"},children:[Object(d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsx)(p.b,{name:"username",className:j.a.userInput}),Object(d.jsx)("input",{type:"submit",className:j.a.submitBtn})]}),Object(d.jsx)(p.a,{name:"username"})]})}):Object(d.jsxs)("div",{className:j.a.resultBox,children:[Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)("img",{src:"https://github.com/"+i+".png?size=200",style:{borderRadius:"8px"},width:"80px",height:"80px",alt:""}),Object(d.jsx)("span",{style:{fontSize:"30px",marginLeft:"10px"},children:i})]}),Object(d.jsx)("div",{style:{lineHeight:"80px"},children:Object(d.jsx)("button",{onClick:this.closeBox,className:j.a.closeBtn,children:"\xd7"})})]})]})}}]),n}(l.PureComponent),f=n(206),O=n.n(f),g=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={data:null},s}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user;Promise.all([this.getUserData(t[0]),this.getUserData(t[1])]).then((function(t){t.length>=2&&(t[0].public_repos>t[1].public_repos?(t[0].ranking_page="Winner",t[1].ranking_page="Loser"):t[0].public_repos<t[1].public_repos?(t[0].ranking_page="Loser",t[1].ranking_page="Winner"):(t[0].ranking_page="it ends in a draw",t[1].ranking_page="it ends in a draw"),e.setState({data:t}))}))}},{key:"getUserData",value:function(e){return new Promise((function(t,n){fetch("https://api.github.com/users/"+e).then((function(e){return e.json()})).then((function(e){t(e)}))}))}},{key:"render",value:function(){var e=this.state.data;return Object(d.jsx)("div",{className:O.a.container,children:e?e.map((function(e){var t=e.ranking_page,n=e.avatar_url,s=e.public_repos,i=e.name,a=e.location,r=e.followers,c=e.following;return Object(d.jsxs)("div",{className:O.a.battleItem,children:[Object(d.jsxs)("div",{style:{textAlign:"center"},children:[Object(d.jsx)("h3",{children:t}),Object(d.jsx)("img",{src:n,alt:"",width:"200px",height:"200px"}),Object(d.jsxs)("h4",{children:["Scores:",s]}),Object(d.jsx)("h2",{children:i})]}),Object(d.jsx)("div",{children:Object(d.jsx)("ul",{className:O.a.listUl,children:[{icon:"fa fa-location-arrow",data:a},{icon:"fa fa-group",data:r},{icon:"fa fa-user-plus",data:c},{icon:"fa fa-code",data:s}].map((function(e){return Object(d.jsxs)("li",{children:[Object(d.jsx)("i",{style:{width:"16px",textAlign:"center",marginRight:"4px"},className:e.icon}),e.data]},e.icon)}))})})]},i+Math.random())})):Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fa fa-spin fa-spinner"}),"loading..."]})})}}]),n}(l.PureComponent),m=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getUsers=function(e,t){a.setState(Object(s.a)({},e,t))},a.typeChange=function(){a.state.type||a.setState({user1:null,user2:null}),a.setState({type:!a.state.type})},a.state={user1:null,user2:null,type:!0},a}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state,t=e.user1,n=e.user2,s=e.type;return Object(d.jsxs)("div",{style:{padding:"20px"},children:[s?Object(d.jsx)(b,{getUsers:this.getUsers}):Object(d.jsx)(g,{user:[t,n]}),Object(d.jsx)("div",{style:{textAlign:"center"},children:t&&n?Object(d.jsx)("button",{onClick:this.typeChange,style:{padding:"16px 32px",fontSize:"20px"},children:s?"Battle":"RESET"}):null})]})}}]),n}(l.PureComponent)}}]);
//# sourceMappingURL=5.87a7779a.chunk.js.map